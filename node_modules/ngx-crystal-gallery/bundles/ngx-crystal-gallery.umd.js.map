{"version":3,"file":"ngx-crystal-gallery.umd.js.map","sources":["ng://ngx-crystal-gallery/lib/lightbox.component.ts","ng://ngx-crystal-gallery/lib/lightbox-mobile.component.ts","ng://ngx-crystal-gallery/lib/config.ts","ng://ngx-crystal-gallery/lib/dom.service.ts","ng://ngx-crystal-gallery/lib/gallery.component.ts","ng://ngx-crystal-gallery/lib/masonry-layout.component.ts","ng://ngx-crystal-gallery/lib/pinch.directive.ts","ng://ngx-crystal-gallery/lib/gallery.module.ts"],"sourcesContent":["import { \n    Component, \n    Input, \n    EventEmitter, \n    OnInit, \n    HostBinding, \n    HostListener, \n    ViewChild, \n    ElementRef, \n    ChangeDetectorRef } from '@angular/core';\n\n@Component({\n    selector: 'crystal-lightbox',\n    template: `<div class=\"cg-counter\" *ngIf=\"config.counter && images.length > 1\">{{counter}}</div>\n<div class=\"cg-description\" *ngIf=\"description\">{{description}}</div>\n\n<div \n\tclass=\"cg-close\" \n\t(click)=\"closeLightbox()\">Close</div>\n\n<div \n\tclass=\"cg-spinner\" \n\t *ngIf=\"!currImageLoaded\"></div>\n\n<div class=\"cg-wrapper\" #wrapper>\n\t<img \n\t\tclass=\"cg-curr-image\" \n\t\t#currImageElem \n\t\t[src]=\"currImagePath?.full\" \n\t\t[class.cg-show]=\"currImageLoaded\" \n\t\t(load)=\"onImageLoaded()\" />\n</div>\n\n<div \n\tclass=\"cg-prev\" \n\t[hidden]=\"isFirst && !config.loop\" \n\t(click)=\"prev()\"></div>\n<div \n\tclass=\"cg-next\" \n\t[hidden]=\"isLast && !config.loop\" \n\t(click)=\"next()\"></div>`,\n    styles: [`._cg-spinner,._cg-spinner:after{border-radius:50%;width:36px;height:36px}._cg-spinner{margin:0 auto;font-size:10px;position:relative;text-indent:-9999em;border-top:4px solid rgba(255,255,255,.2);border-right:4px solid rgba(255,255,255,.2);border-bottom:4px solid rgba(255,255,255,.2);border-left:4px solid #fff;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.9s linear infinite load8;animation:.9s linear infinite load8}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cg-spinner,.cg-spinner:after,.cg-spinner:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite load7;animation:1.5s ease-in-out infinite load7}.cg-spinner{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.cg-spinner:after,.cg-spinner:before{content:\"\";position:absolute;top:0}.cg-spinner:before{left:-3em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.cg-spinner:after{left:3em}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}:host(.cg-show){opacity:1}:host(.cg-hide-controls) .cg-close,:host(.cg-hide-controls) .cg-next,:host(.cg-hide-controls) .cg-prev{opacity:0}:host{opacity:0;position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:opacity .1s cubic-bezier(.645,.045,.355,1);z-index:10000;background-color:rgba(0,0,0,.85)}:host img{opacity:1;max-width:100%;max-height:100%;box-shadow:0 4px 15px 2px rgba(0,0,0,.35)}:host img.cg-curr-image.cg-show{opacity:1}:host img.cg-curr-image{opacity:0;z-index:10}:host .cg-wrapper.cg-hide{display:none}:host .cg-wrapper{display:flex;align-items:center;justify-content:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;top:0;left:0;width:100%;height:100%}:host .cg-spinner{position:absolute;top:50%;left:50%;margin-top:-15px;margin-left:-5px}:host .cg-counter{text-align:left;position:absolute;left:22px;top:13px;font-size:14px;text-shadow:0 0 1px rgba(0,0,0,.65);z-index:30}:host .cg-description{text-align:center;max-width:calc(100% - 200px);margin:0 auto;font-size:14px;line-height:43px;position:relative;z-index:50}:host .cg-close{position:absolute;top:0;right:0;padding:13px 22px;font-size:13px;text-transform:uppercase;cursor:pointer;opacity:.5;z-index:30;transition:opacity .1s ease-in-out;text-shadow:0 0 1px rgba(0,0,0,.65)}:host .cg-close:hover{opacity:1}:host .cg-next,:host .cg-prev{width:40%;height:100%;position:absolute;top:0;cursor:pointer;opacity:.5;z-index:20;transition:opacity .1s ease-in-out;-webkit-tap-highlight-color:rgba(255,255,255,0)}:host .cg-next:hover,:host .cg-prev:hover{opacity:1}:host .cg-prev{left:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjMzMTZCQzFERDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjMzMTZCQzFFRDgzMTExRTc5QUYxQTUxRDI5MkM5ODZCIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MzMxNkJDMUJEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MzMxNkJDMUNEODMxMTFFNzlBRjFBNTFEMjkyQzk4NkIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7VrwZKAAAClElEQVR42qzWSY8SQRgGYLoVHPeTXlwCiIwMArJGtiABNep4IGZi4oEfMJooLjePrnFGf5yJS0hYmq2b/aBxiQ6+lRRJdaUZq5vp5E2TLnioVFd9VZLN+iUxIdeMiW2fRVCmvz2DpJBVCk6X6SVBHQRLpVKb7Xb782g0Usrl8jM8W0P20+9YQn3JZPIhwN6MXoPBoI3nG8iKGZhF14A+AqrOmKtWq31F213kkOgQ69B0Ol0BqrFot9vV/H7/c7RfEoVZ1G+EdjqdvtfrfYn2K8gJkaHQodlstjIej/ssihdH0Ddov4acQo7QlycJo5PJhEc1j8fzmqJk2h1D7Lv1lkUv5nK5xzzaarWMUIcwms/nCTrgUbfbTdCrVtAAQafTqQ5VFEVdCi0UCk/Q0yGLNptN1el0vqLoaRHUxqPoKY/2KFo0g0r0ba4Wi8WnQEcs2mg0VAPULrJsZTqpNzDZ6yxar9dVl8tFVtR10SnFohJdgnZYuh9IkjSTZfknPn5DviO/kL/IjkgtIOhhJJ7JZF5gdU24hdDG6qqg/QJywEzlmg/FSTLhE4nE9nA4nHJFRvH5fJto94gOBfvyjtJxXI/H4x+A63re6/UUVDCCnzeDz6fbceQscjsWi703wFsM7hDBJQN8PRqNbmNn0OGapu0JfoviYx4PBAL30e5dCg+Hw0Z4e8/wfr/P451QKPRgaRzIFjDdksefsbjdKn5zER6JRMiwuP+3Ne2KB4PBLVVVR1xd+YK2O2bOFYvwd8CHbK/x/J6Zc8Ui/AZmxdtqtdrAwlFLpRLZrS/PYcnkEUuiY7hCS+g5sovT55+Qj7QS/jYD8zjp/UF6t9GS+oPed8zCLC5zJ0tSo//Q+8wKLHTw/ifAAMQVS4vHZR2VAAAAAElFTkSuQmCC) center left 22px no-repeat}:host .cg-next{right:0;background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAiCAYAAABbXymAAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjEyNDE3MDE1RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjEyNDE3MDE2RDgzMTExRTc5NjM4QTIzQzI2Rjc2Qjg2Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MTI0MTcwMTNEODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MTI0MTcwMTREODMxMTFFNzk2MzhBMjNDMjZGNzZCODYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7zv5BKAAACl0lEQVR42rTW224SQRwGcHZb8FT1Sm88BJCiFAE5JpyCBNRE8coYEy94AGqi9XDXS0+JVh/CB/EhiFET5LjAclgWjaa1aazfJDM6u6LuLjrJl2124cd0duY/I9h+NoELabtcTLcFCon0bw+SRE4h28hn2xyNoIvISrlcfqAoSluSpLepVKqCe6cRB/2MYAXei1wfjUbSLm34gX4ymbyN+z6rOBmC/ciNer3+fpdrwGXgd8h/YwVn8Dm/37/e6/UGOnyQTqfXrOBsKI4g571e76Nutzv8De43gwv05S0hx5CLwJ/iBWrwyWQyzGazpnHyITtyCDlBcI/H8wS4ZlhUVbWMO/R4p9P5Bc/lcnfx/Ow8+AW32z0LH+Xz+X+Dt9ttmcen0ynDA1bx4wR3Op2PW62WrOv5uFAo3JsXL1K8r+v5LNxmZrb8wJvNpn5YlGKxeJ/WFruZBcRPxUsul2u90WhocCyqBqk3dLGJiwbgb/T6FflCSqkoiluCIGjqNGzWgQUz9YR8aQ9yBqtyDQtH0q1KNZPJPMTzOHKA4oaHwuPz+SooUm0eHY/H00QisUEWFHKUDYVRdBmVr9Lv9/WoGo/HX+J5iY7/QSMvj003hnb0aCwWe4HnV5GTyGEj002DDgYDDYqdRo1Goxu0p3pU+BvqDQQCqzPQCUWvzINKejQcDltHQ6HQLaBdHh0Oh5ZRO0OBaFD8iIL7z82ibGtyRyKR1T+gl82g/GZ6Dev/HY/KsqwEg0FLKL/93+R7C3QM9Nk8KDtiOWq12jb2s2XS01Kp9Kparb7G/TfIR2QT2TF6UBS42bBEi/UK/SIBPyCfkC0zKA+z6rWPXm30tLlJr6ZQ/ZmYDYnI1eEdejV9Thb+18H7uwADAOG/Wcm4x+knAAAAAElFTkSuQmCC) center right 22px no-repeat}`]\n})\nexport class LightboxComponent {\n    _index: any;\n    prevIndex: any;\n    currImageLoaded: any; \n    prevImageHide: any;\n    wrapperProp: any;\n    _data: any;\n    currentImageIndex: number = 0;\n    spinnerHeight: number = 30;\n    descriptionHeight: number = 43;\n\n    @Input() data: any;\n\n    close = new EventEmitter();\n\n    @HostBinding('class.cg-show') showLightbox: boolean = false;\n    @HostBinding('class.cg-hide-controls') hideControls: boolean = false;\n    @HostBinding('style.transition') hostStyleTransition: string;\n    @HostBinding('style.backgroundColor') hostStyleBackgroundColor: string;\n\n    @ViewChild('currImageElem') currImageElem: ElementRef;\n    @ViewChild('prevImageElem') prevImageElem: ElementRef;\n    @ViewChild('wrapper') wrapperElem: ElementRef;\n\n    get images(){\n        return this.data.images;\n    }\n\n    get config(){\n        return this.data.config;\n    }\n\n    get index(){\n        return this.currentImageIndex;\n    }\n\n    get currImagePath(){\n        let image = this.images[this.index];\n\n        if (!image){\n            return false;\n        }\n\n        if (image.path){\n            image.full = image.path;\n        }\n\n        return image;\n    }\n\n    get prevImagePath(){\n        return this.images[this.prevIndex];\n    }\n\n    set prevImagePath(value: any){\n        this.images[this.prevIndex] = value;\n    }\n\n    get isFirst(){\n        return this.index === 0;\n    }\n\n    get isLast(){\n        return this.index === (this.images.length-1);\n    }\n\n    get latestImageIndex(){\n        return this.images.length - 1;\n    }\n\n    get description(){\n        return this.images[this.index].description;\n    }\n\n    get counter(){\n        return this.currentImageIndex + 1 +'/'+ this.images.length;\n    }\n\n    @HostListener('window:keydown', ['$event'])\n    onKeyDown(event: any) {\n        switch(event.key) {\n            case 'ArrowLeft':\n                this.prev();\n                break;\n            case 'ArrowRight':\n                this.next();\n                break;\n            case 'Escape':\n                this.closeLightbox();\n                break;\n        }\n    }\n\n    @HostListener(\"mouseenter\", ['$event'])\n    onMouseEnter(event: any) {\n        this.hideControls = false;\n    }\n\n    constructor(private elementRef: ElementRef, private ref: ChangeDetectorRef){\n    }\n\n    ngOnInit(){\n        this.setBackgroundOpacity(this.config.backgroundOpacity);\n        this.currentImageIndex = this.config.index;\n        //document.body.style.overflow = 'hidden';\n\n        setTimeout(() => {\n            this.showLightbox = true;\n        }, 30);\n\n        this.setMaxDimensions();\n        this.setAnimationDuration();\n    }\n\n    closeLightbox(){\n        this.showLightbox = false;\n        setTimeout(() => {\n           this.close.emit('close');\n           //document.body.style.overflow = '';\n        }, this.config.animationDuration); \n    }\n\n    next(){\n        if (this.isLast){\n            if (this.config.loop){\n                this.currentImageIndex = 0;\n            } else {\n                return;\n            }\n        } else {\n            this.currentImageIndex++;\n        }\n        this.currImageLoaded = 'loading';\n\n        setTimeout(() => {\n            if (this.currImageLoaded === 'loading'){\n                this.currImageLoaded = false;\n            }\n        }, 50);\n\n        this.setMaxDimensions();\n    }\n    prev(){\n        if (this.isFirst){\n            if (this.config.loop){\n                this.currentImageIndex = this.latestImageIndex;\n            } else {\n                return;\n            }\n        } else {\n            this.currentImageIndex--;\n        }\n\n        setTimeout(() => {\n            if (this.currImageLoaded === 'loading'){\n                this.currImageLoaded = false;\n            }\n        }, 50);\n\n        this.setMaxDimensions();\n    }\n\n    onImageLoaded(){\n        this.currImageLoaded = true;\n        this.ref.detectChanges();\n    }\n\n    setBackgroundOpacity(opacity: any){\n        this.hostStyleBackgroundColor = 'rgba(0, 0, 0, '+opacity+')';\n    }\n\n    setMaxDimensions(){\n        if (this.description){\n            this.wrapperElem.nativeElement.style.height = 'calc(100% - ' + (this.descriptionHeight * 2) + 'px)';\n        } else {\n            this.wrapperElem.nativeElement.style.height = '';\n        }\n\n        this.currImageElem.nativeElement.style.maxHeight = 'calc(' + this.config.lightboxMaxHeight + ')';\n        this.currImageElem.nativeElement.style.maxWidth = this.config.lightboxMaxWidth;\n    }\n\n    setAnimationDuration(){\n        this.hostStyleTransition = 'opacity '+this.config.animationDuration+'ms';\n    }\n}","import { Component, Input, EventEmitter, OnInit, HostBinding, HostListener, ViewChild, ElementRef, ChangeDetectorRef } from '@angular/core';\n\n@Component({\n\tselector: 'crystal-lightbox-mobile',\n\ttemplate: `<div class=\"cg-back\" (click)=\"closeLightbox()\"></div>\n\n<div \n\tclass=\"cg-wrapper\" \n\t[class.cg-landscape]=\"landscapeMode\"\n\tpinch [isLast]=\"isLast\" [isFirst]=\"isFirst\" (events)=\"handlePinchEvents($event)\"\n\t#wrapper>\n\t<div class=\"cg-image-wrap cg-prev-image\">\n\t\t<img \n\t\t\t*ngIf=\"prevImagePath\"\n\t\t\t[src]=\"prevImagePath.full\" \n\t\t\t[class.cg-hide]=\"!prevImage.loaded\"\n\t\t\t(load)=\"onImageLoaded('prevImage')\"\n\t\t/>\n\t\t<div class=\"cg-spinner\" *ngIf=\"!prevImage.loaded && prevImagePath\"></div>\n\t</div>\n\n\t<div class=\"cg-image-wrap cg-curr-image\" *ngIf=\"currImage.show\">\n\t\t<img \n\t\t\t[src]=\"currImagePath?.full\" \n\t\t\t[class.cg-hide]=\"!currImage.loaded\" \n\t\t\t(load)=\"onImageLoaded('currImage')\"\n\t\t/>\n\t\t<div class=\"cg-spinner\" *ngIf=\"!currImage.loaded\"></div>\n\t</div>\n\t\n\t<div class=\"cg-image-wrap cg-next-image\">\n\t\t<img \n\t\t\t*ngIf=\"nextImagePath\"\n\t\t\t[src]=\"nextImagePath.full\" \n\t\t\t[class.cg-hide]=\"!nextImage.loaded\" \n\t\t\t(load)=\"onImageLoaded('nextImage')\"\n\t\t/>\n\t\t<div class=\"cg-spinner\" *ngIf=\"!nextImage.loaded && nextImagePath\"></div>\n\t</div>\n</div>`,\n    styles: [`._cg-spinner,._cg-spinner:after{border-radius:50%;width:36px;height:36px}._cg-spinner{margin:0 auto;font-size:10px;position:relative;text-indent:-9999em;border-top:4px solid rgba(255,255,255,.2);border-right:4px solid rgba(255,255,255,.2);border-bottom:4px solid rgba(255,255,255,.2);border-left:4px solid #fff;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:.9s linear infinite load8;animation:.9s linear infinite load8}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cg-spinner,.cg-spinner:after,.cg-spinner:before{border-radius:50%;width:10px;height:10px;-webkit-animation:1.5s ease-in-out infinite load7;animation:1.5s ease-in-out infinite load7}.cg-spinner{color:#fff;font-size:10px;margin:0 auto 20px;position:relative;text-indent:-9999em;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation-delay:-.16s;animation-delay:-.16s}.cg-spinner:after,.cg-spinner:before{content:\"\";position:absolute;top:0}.cg-spinner:before{left:-3em;-webkit-animation-delay:-.32s;animation-delay:-.32s}.cg-spinner:after{left:3em}@-webkit-keyframes load7{0%,100%,80%{box-shadow:0 2.5em 0 -1.3em}40%{box-shadow:0 2.5em 0 0}}@keyframes load7{0%,100%,80%{box-shadow:0 10px 0 -1.3em}40%{box-shadow:0 10px 0 0}}:host(.cg-show){opacity:1}:host(.cg-hide-controls) .cg-close,:host(.cg-hide-controls) .cg-next,:host(.cg-hide-controls) .cg-prev{opacity:0}:host{opacity:0;position:fixed;top:0;left:0;width:100%;height:100%;color:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:opacity .2s cubic-bezier(.645,.045,.355,1);z-index:10000;background-color:#000}:host .cg-back{background:url(\"data:image/svg+xml,%3C%3Fxml version%3D%221.0%22 encoding%3D%22UTF-8%22%3F%3E%3Csvg width%3D%2210px%22 height%3D%2216px%22 viewBox%3D%220 0 10 16%22 version%3D%221.1%22 xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E    %3C!-- Generator%3A sketchtool 40.2 (33826) - http%3A%2F%2Fwww.bohemiancoding.com%2Fsketch --%3E    %3Ctitle%3E11A73872-5EBF-46F6-B7C5-142D47A33339%3C%2Ftitle%3E    %3Cdesc%3ECreated with sketchtool.%3C%2Fdesc%3E    %3Cdefs%3E%3C%2Fdefs%3E    %3Cg id%3D%22Interface-1280-x-800%22 stroke%3D%22none%22 stroke-width%3D%221%22 fill%3D%22none%22 fill-rule%3D%22evenodd%22%3E        %3Cg id%3D%22Lot_viewpage_open%22 transform%3D%22translate(-111.000000%2C -296.000000)%22 fill%3D%22%23FFFFFF%22%3E            %3Cg id%3D%22arrows-16px-1_minimal-left%22 transform%3D%22translate(111.000000%2C 296.000000)%22%3E                %3Cpolygon id%3D%22Shape%22 points%3D%228.1 15.7 0.4 8 8.1 0.3 9.6 1.7 3.3 8 9.6 14.3%22%3E%3C%2Fpolygon%3E            %3C%2Fg%3E        %3C%2Fg%3E    %3C%2Fg%3E%3C%2Fsvg%3E\") center/12px no-repeat;width:40px;height:40px;opacity:.9;position:fixed;top:0;left:0;z-index:1000}:host .cg-wrapper.cg-landscape .cg-image-wrap img{height:100%}:host .cg-wrapper{transition:none;width:100%;height:100%;display:block}:host .cg-wrapper .cg-image-wrap.cg-prev-image{-webkit-transform:translate3d(calc(-100% - 8px),0,0);transform:translate3d(calc(-100% - 8px),0,0)}:host .cg-wrapper .cg-image-wrap.cg-next-image{-webkit-transform:translate3d(calc(100% + 8px),0,0);transform:translate3d(calc(100% + 8px),0,0)}:host .cg-wrapper .cg-image-wrap{width:100%;height:100%;text-align:center;position:absolute;display:flex;align-items:center;justify-content:center}:host .cg-wrapper .cg-image-wrap img{max-width:100%;max-height:100%;width:auto;height:auto;position:relative}:host .cg-wrapper .cg-image-wrap img.cg-hide{display:none}`]\n})\nexport class LightboxMobileComponent { \n\t_index: any;\n    prevIndex: any;\n    nextIndex: any;\n\n    currImage = {\n        show: false,\n        loaded: false,\n        index: 0\n    }; \n\n    prevImage = {\n        loaded: false\n    }; \n\n    nextImage = {\n        loaded: false\n    }; \n\n    wrapperProp: any;\n    landscapeMode: any;\n\n\tclose = new EventEmitter();\n\n    @Input() data: any;\n\n    @ViewChild('wrapper') wrapperEl: ElementRef;\n\n    get images(){\n        return this.data.images;\n    }\n\n    get config(){\n        return this.data.config;\n    }\n\n    get index(){\n        return this.currImage.index;\n    }\n\n    get currImagePath(){\n        let image = this.images[this.index];\n\n        if (!image){\n            return false;\n        }\n\n        if (image.path){\n            image.full = image.path;\n        }\n        \n        return image;\n    }\n\n    get prevImagePath(){\n        if (this.prevIndex < 0 && this.config.loop){\n            this.prevIndex = this.latestImageIndex;\n        }\n\n        let image = this.images[this.prevIndex];\n\n        if (image && image.path){\n            image.full = image.path;\n        }\n        return image;\n    }\n\n    get nextImagePath(){\n        let image = this.images[this.nextIndex];\n\n        if (image && image.path){\n            image.full = image.path;\n        }\n        return image;\n    }\n\n    get isFirst(){\n        if (this.config.loop){\n            return false;\n        } else {\n    \t    return this.index === 0;\n        }\n    }\n\n    get isLast(){\n        if (this.config.loop){\n            return false;\n        } else {\n            return this.index === this.latestImageIndex;\n        }        \n    }\n\n    get latestImageIndex(){\n        return this.images.length - 1;\n    }\n\n    get isLandscape(){\n        return window.innerWidth > window.innerHeight;\n    }\n\n    @HostBinding('class.cg-show') lightboxShown: boolean = false;\n\n    @HostListener('window:resize', ['$event'])\n    onWindowResize(event: any) {\n        this.landscapeMode = this.isLandscape;\n        this.ref.detectChanges();\n    }\n\n    constructor(private elementRef: ElementRef, private ref: ChangeDetectorRef){\n    }\n\n    ngOnInit(){\n        this.currImage.index = this.config.index;\n        this.prevIndex = this.currImage.index-1;\n        this.nextIndex = this.currImage.index+1;\n\n        this.showLightbox();\n    }\n\n    showLightbox(){\n        this.currImage.show = true;\n        setTimeout(() => {\n           this.lightboxShown = true;\n        }, 30);\n    }\n\n\tcloseLightbox(){\n\t\tthis.lightboxShown = false;\n        setTimeout(() => {\n           this.close.emit(true);\n        }, 200); \n\t}\n\n    slide(event: any){\n        if (event === 'next'){\n            \n            if (this.isLast){\n                return;\n            } else {\n                setTimeout(() => {\n                    this.currImage.index++;\n                }, 200); \n            }\n\n            if (this.index === this.latestImageIndex){\n                setTimeout(() => {\n                    this.currImage.index = 0;\n                }, 200); \n            }\n\n            setTimeout(() => {\n                this.afterSlide('next');\n            }, 300); \n        }\n\n        if (event === 'prev'){\n\n            if (this.isFirst){\n                return;\n            } else {\n                setTimeout(() => {\n                    this.currImage.index--;\n                }, 200); \n            }\n\n            if (this.index === 0){\n                setTimeout(() => {\n                    this.currImage.index = this.latestImageIndex;\n                }, 200); \n            }\n\n            setTimeout(() => {\n                this.afterSlide('prev');\n            }, 300); \n        }\n    }\n\n    afterSlide(eventType: any){\n        this.currImage.show = true;\n        \n        if (this.index === this.latestImageIndex && this.config.loop){\n            this.nextIndex = 0;\n        } else {\n            this.nextIndex = this.index+1;\n        }\n\n        if (this.index === 0 && this.config.loop){\n            this.prevIndex = this.latestImageIndex;\n        } else {\n            this.prevIndex = this.index-1;\n        }\n\n        if (eventType === 'prev'){\n\n            if (!this.prevImage.loaded){\n                this.currImage.loaded = false;\n                this.prevImage.loaded = false;\n            }\n            if (!this.currImage.loaded){\n                this.nextImage.loaded = false;\n            }\n        }\n\n        if (eventType === 'next'){\n\n            if (!this.nextImage.loaded){\n                this.currImage.loaded = false;\n                this.nextImage.loaded = false;\n            }\n            if (!this.currImage.loaded){\n                this.prevImage.loaded = false;\n            }\n        }\n\n        this.defaultWrapperPosition();\n        this.ref.detectChanges();\n    }\n\n    onImageLoaded(elem: any){\n        this[elem].loaded = true;\n        this.ref.detectChanges();\n    }\n\n    handlePinchEvents($event){\n        if ($event === 'prev'){\n            this.slide('prev');\n        }\n        if ($event === 'next'){\n            this.slide('next');\n        }\n    }\n\n    defaultWrapperPosition(){\n        let elem = this.wrapperEl.nativeElement;\n        elem.style.transition = 'all 0ms';\n        elem.style.transform = 'matrix(1, 0, 0, 1, 0, 0)';\n        elem.style.webkitTransform = 'matrix(1, 0, 0, 1, 0, 0)';\n    }\n}","export const defaultConfig = {\n\tmasonry: true,\n\tmasonryMaxHeight: 200,\n\tmasonryGutter: 4,\n\tloop: false,\n\tindex: 0,\n\tbackgroundOpacity: 0.85,\n\tcounter: false,\n\tlightboxMaxHeight: \"100%\",\n\tlightboxMaxWidth: \"100%\",\n\tanimationDuration: 100\n}","import {\n    Injectable,\n    Injector,\n    ComponentFactoryResolver,\n    EmbeddedViewRef,\n    ApplicationRef,\n    ComponentRef\n} from '@angular/core';\n\nimport { LightboxComponent } from './lightbox.component';\nimport { LightboxMobileComponent } from './lightbox-mobile.component';\nimport { defaultConfig } from './config';\n\nexport interface AdComponent {\n  data: any;\n  close: any;\n}\n\n@Injectable()\nexport class CrystalLightbox {\n\n    get isMobile() {\n        var check = false;\n        (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor);\n        return check;\n    };\n\n\tconstructor(\n\t\tprivate componentFactoryResolver: ComponentFactoryResolver,\n\t\tprivate appRef: ApplicationRef,\n\t\tprivate injector: Injector\n\t) { }\n \n\tappendComponentToBody(component: any, data: any) {\t\t\n\t\tconst componentRef = this.componentFactoryResolver\n\t\t\t.resolveComponentFactory(component)\n\t\t\t.create(this.injector);\n\n\t\t(<AdComponent>componentRef.instance).data = data;\n\t\tthis.appRef.attachView(componentRef.hostView);\n\t\tconst domElem = (componentRef.hostView as EmbeddedViewRef<any>).rootNodes[0] as HTMLElement;\n\t\tdocument.body.appendChild(domElem);\n\t\t\n        (<AdComponent>componentRef.instance).close.subscribe(() => {\n\t\t\tthis.appRef.detachView(componentRef.hostView);\n\t\t\tcomponentRef.destroy();\n        });\n\t}\n\n\topen(images: any, config: any = {}){\n\t\tconfig = this.applyConfigDefaults(defaultConfig, config);\n\t\tlet data = {\n\t\t\timages, \n\t\t\tconfig\n\t\t};\n        let component = this.getLightboxComponent();\n        \n\t\tthis.appendComponentToBody(component, data);\n\t}\n\n\tgetLightboxComponent(){\n\t\treturn !this.isMobile ? LightboxComponent : LightboxMobileComponent;\n\t}\n\n\tapplyConfigDefaults(defaultConfig, config){\n\t\tif (!config.index){ \n\t\t\tconfig.index = 0;\n\t\t}\n\t\treturn Object.assign(defaultConfig, config);\n\t}\n}","import { Component, Input, OnInit, ElementRef, ViewChild } from '@angular/core';\nimport { CrystalLightbox } from'./dom.service'\n\n@Component({\n\tselector: 'crystal-gallery', \n\ttemplate: `<div #contentWrapper [hidden]=\"isNgContent\">\n    <ng-content></ng-content>\n</div>\n\n<masonry-layout \n    class=\"cg-wrapper\"\n    *ngIf=\"!isNgContent\" \n\n    [max-height]=\"masonryMaxHeight\" \n    [gutter]=\"masonryGutter\"\n    [masonry]=\"masonryState\"\n    [class-name]=\"'cg-image'\"\n    [images]=\"images\"\n    (events)=\"handleMasonryLayoutEvents($event)\"></masonry-layout>`,\n    styles: [`:host{display:block;width:100%}:host .cg-wrapper{display:block;width:100%;overflow:hidden}:host .cg-wrapper.cg-show{height:auto;position:relative;display:table}:host .cg-image img{cursor:pointer;width:100%}`],\n})\nexport class GalleryComponent {\n\n    @Input('images') images: any;\n    @Input('config') config: any = {};\n\n    @ViewChild('contentWrapper') contentWrapper: ElementRef;\n\n    get isNgContent(){\n        return this.contentWrapper.nativeElement.children.length > 0;\n    }\n\n    get masonryState(){\n        return this.config.masonry;\n    }\n\n    get masonryMaxHeight(){\n    \treturn this.config.masonryMaxHeight;\n    }\n\n    get masonryGutter(){\n    \treturn this.config.masonryGutter;\n    }\n\n\tconstructor(\n\t\tprivate lightbox: CrystalLightbox,\n\t\tprivate elementRef: ElementRef\n\t) {}\n\n\tshowLightbox(images: any, i: number){\n        this.config.index = i;\n\t\tthis.lightbox.open(images, this.config);\n\t}\n\n    handleMasonryLayoutEvents(event){\n        this.showLightbox(this.images, event.index);\n    }\n}","import { Component, ElementRef, HostListener, Input, Output, OnInit, OnChanges, EventEmitter } from '@angular/core';\n\nexport interface Image {\n    path: string; \n    width: number; \n    height: number;\n    computedHeight?: string;\n    computedWidth?: string;\n    margin?: string;\n};\n\nexport interface Images extends Array<Image>{}\n\n@Component({\n    selector: 'masonry-layout', \n    template: `<div \n\t[ngClass]=\"CLASS_NAME\"\n\t*ngFor=\"let image of images; let i = index;\"\n    [style.width]=\"image.computedWidth\"\n    [style.height]=\"image.computedHeight\"\n    [style.float]=\"'left'\"\n    [style.margin]=\"image.margin\"\n    [style.background]=\"'#eeeeee'\"\n    [style.lineHeight]=\"0\">\n\t<img \n        #imageElem\n        [src]=\"image.preview || image.full\" \n        [style.width.%]=\"100\" \n        [style.height]=\"'auto'\"\n        [style.opacity]=\"0\"\n        (click)=\"clickOnImage(image, i)\"\n        (load)=\"onImageLoaded(imageElem)\" />\n</div>`,\n})\n\nexport class MasonryLayoutComponent {\n    GUTTER: number = 0;\n    nodes: any;\n    elem: any;\n    savedNodeDimensions: any = [];\n    observer: any;\n    gridState: string = 'not started';\n    resizeTimer: any;\n    changesTimer: any;\n\n    @Input('images') images: Images; \n    @Input('masonry') ENABLE_MASONRY: boolean = true; \n    @Input('max-height') MAX_HEIGHT: number = 400; \n    @Input('class-name') CLASS_NAME: string | { [key: string]: any; };\n\n    @Input('gutter')\n    set gutter(value: number){\n        this.GUTTER = value / 2;\n    }\n\n    @Output() events: EventEmitter<any> = new EventEmitter<any>();\n     \n    get isMobile():boolean {\n        var check = false;\n        (function(a){if(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor);\n        return check;\n    };\n     \n    constructor(private elementRef: ElementRef){\n        this.elem = this.elementRef.nativeElement;\n    }\n\n    @HostListener('window:resize', ['$event'])\n    onWindowResize(event) {\n        clearTimeout(this.resizeTimer);\n\n        this.resizeTimer = setTimeout(() => {\n            this.gridState = 'not started';\n            this.buildGrid(); \n        }, 250);\n    }\n\n    ngOnInit() {\n        this.buildGrid();\n    }\n\n    ngOnChanges(){\n        clearTimeout(this.changesTimer);\n\n        this.changesTimer = setTimeout(() => {\n            this.gridState = 'not started';\n            this.buildGrid(); \n        }, 250);\n    }\n\n    buildGrid(){\n        let parentWidth = Math.floor(this.elem.parentNode.offsetWidth);\n        let totalRowWidth: any = 0; \n        let row: any = {\n            startIndex: 0,\n            endIndex: 0,\n            length: 0,\n            totalWidth: 0\n        };\n\n        if (!this.images || !this.images.length){\n            return;\n        }\n\n        this.elem.style.width = parentWidth +'px';\n        this.elem.style.display = 'table';\n\n        this.images.forEach((node, index) => {\n            if (row.totalWidth === 0){\n                row.startIndex = index;\n                row.length = 0;\n            }\n\n            row.length++;\n            row.totalWidth += this.getComputedWidth(index);\n            \n            if (row.totalWidth >= parentWidth || this.isLastChild(index)){\n                row.endIndex = index;\n                let scaling = row.totalWidth/parentWidth;\n\n                this.setColDimensions(scaling, row);\n                row.totalWidth = 0; \n            }\n        });\n    }\n\n    setColDimensions(scaling: number, row: any){\n        let totalRowWidth: any = 0;\n        let parentWidth = this.elem.parentNode.offsetWidth;\n        scaling = (scaling < 1) ? 1 : scaling;\n\n        this.images.forEach((node, index) => {\n            if (!this.ENABLE_MASONRY){\n                node.computedHeight = this.MAX_HEIGHT + 'px';\n                node.computedWidth = this.getComputedWidth(index) + 'px';\n                node.margin = this.getNodeMargin(parentWidth);\n                return;\n            }\n\n            if (index >= row.startIndex && index <= row.endIndex){\n                let nodeWidth;\n\n                // last image\n                if (index === row.endIndex && scaling > 1){ \n                    nodeWidth = (100 - totalRowWidth) - ((this.GUTTER * 2) / parentWidth * 100);\n                    node.computedWidth = 'calc('+nodeWidth+'%)';\n\n                    if (this.gridState === 'not started'){\n                        this.gridState = 'pre-building';\n\n                        setTimeout(() => {\n                            this.buildGrid();\n                        }, 100);\n                    }\n                } \n                else {\n                    nodeWidth = ((this.getComputedWidth(index) / scaling) / parentWidth * 100) - ((row.length * (this.GUTTER * 2)) * (this.getComputedWidth(index) / scaling) / parentWidth) / parentWidth * 100;\n                    node.computedWidth = 'calc('+nodeWidth+'%)';\n                    \n                    totalRowWidth += nodeWidth;\n                    totalRowWidth += (this.GUTTER / parentWidth * 100) * 2;  \n                }\n\n                // last row and last image\n                if (index === row.endIndex && row.length === 1 && this.isMobile){\n                \tnodeWidth = 100 - ((this.GUTTER * 2) / parentWidth * 100);\n                    let height = node.height * ( parentWidth * (nodeWidth / 100) / node.width);\n\n                    if (height/2 < this.MAX_HEIGHT){\n                        node.computedWidth = 'calc('+nodeWidth+'%)';\n                    }\n                }\n\n                node.margin = this.getNodeMargin(parentWidth);\n                node.computedHeight = node.height * ( parentWidth * (nodeWidth / 100) / node.width) + 'px';\n            }\n        });\n    }\n\n    getComputedWidth(index: number){\n        return this.images[index].width / (this.images[index].height / this.MAX_HEIGHT);\n    }\n\n    isLastChild(index: number){\n        return index + 1 === this.images.length;\n    }\n\n    getNodeMargin(parentWidth: number){\n        return 'calc('+this.GUTTER / parentWidth * 100+'%)';\n    }\n\n    clickOnImage(image: any, i: number){\n        this.events.emit({\n            type: 'click-on-image',\n            image: image,\n            index: i\n        });\n    }\n\n    onImageLoaded(elem){\n        elem.style.opacity = 1;\n    }\n}","import { Directive, ElementRef, HostListener, Input, Output, EventEmitter } from '@angular/core';\n\n@Directive({\n    selector: '[pinch]'\n})\n\nexport class PinchDirective{\n\n    elem: any;\n    eventType: any;\n\n    scale: any = 1;\n    initialScale: any = 1;\n\n    startX: any;\n    startY: any;\n\n    moveX: any = 0;\n    moveY: any = 0;\n    initialMoveX: any = 0;\n    initialMoveY: any = 0;\n\n    moveXC: any;\n    moveYC: any;\n\n    distance: any;\n    initialDistance: any;\n\n    isNextImageLoaded: any = true;\n\n    @Input() isLast: any;\n    @Input() isFirst: any;\n\n    @Output() events = new EventEmitter<boolean>();\n     \n    constructor(private elementRef: ElementRef){\n        this.elem = this.elementRef.nativeElement;\n    }\n\n    @HostListener('touchstart', ['$event'])\n    touchstartHandler(event) {\n        this.elem.style.transformOrigin = '0 0';\n    }\n\n    @HostListener('touchmove', ['$event'])\n    touchmoveHandler(event) {\n        let touches = event.touches;\n\n        if (touches.length === 1 && this.scale === 1 && !this.eventType || this.eventType == 'swipe'){\n            event.preventDefault();\n\n            if (!this.isNextImageLoaded) {\n                return;\n            }\n\n            if (!this.eventType){\n                this.startX = event.touches[0].pageX;\n                this.startY = event.touches[0].pageY;\n            }\n\n            this.eventType = 'swipe';\n\n            this.moveX = this.initialMoveX + (event.touches[0].pageX - this.startX);\n            this.moveY = 0;\n\n            this.transformElem(0);\n        }\n    }\n\n    @HostListener('touchend', ['$event'])\n    touchendHandler(event) {\n        let touches = event.touches;\n        let img = this.elem.getElementsByTagName(\"img\")[0];\n\n        if (!this.isNextImageLoaded) {\n            return;\n        }\n        \n        if (this.scale < 1){\n            this.scale = 1;\n        }\n        if (this.moveY > 0){\n            this.moveY = 0;\n        } \n\n        if (this.moveX > 100){\n            this.slide('prev');\n        } else if (this.moveX < -100){\n            this.slide('next');\n        } else {\n            this.moveX = 0;\n        }\n\n        this.initialScale = this.scale;\n        this.initialMoveX = this.moveX;\n        this.initialMoveY = this.moveY;\n\n        this.transformElem(200); \n\n        this.eventType = 'touchend';        \n        if (touches.length == 0){\n            this.eventType = '';\n        }\n    }\n\n    slide(event: any){\n        this.onSlide(event);\n\n        if (event === 'prev'){\n            this.moveX = window.innerWidth + 8; \n            if (this.isFirst){\n                this.moveX = 0;\n            }\n        }\n        if (event === 'next'){\n            this.moveX = -window.innerWidth - 8;\n            if (this.isLast){\n                this.moveX = 0;\n            }\n        }\n\n        this.isNextImageLoaded = false;\n\n        setTimeout(() => {\n            this.moveX = 0;\n            this.initialMoveX = 0;\n            this.isNextImageLoaded = true;\n        }, 200);\n    }\n\n    onSlide(evenType:any) {\n        this.events.emit(evenType);\n    }\n\n    transformElem(duration: any = 50){\n        let matrixVal = 'matrix('+ Number(this.scale) +','+ 0 +','+ 0 +','+ Number(this.scale) +','+ Number(this.moveX) +','+ Number(this.moveY) +')';\n        \n        this.elem.style.transition = 'all '+ duration +'ms';\n        this.elem.style.transform = matrixVal;\n        this.elem.style.webkitTransform = matrixVal;\n    }\n}","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LightboxComponent } from './lightbox.component';\nimport { LightboxMobileComponent } from './lightbox-mobile.component';\nimport { GalleryComponent } from './gallery.component';\nimport { CrystalLightbox } from'./dom.service' \nimport { MasonryLayoutComponent } from './masonry-layout.component'; \nimport { PinchDirective } from './pinch.directive'; \n\n@NgModule({\n    declarations: [\n        LightboxComponent,\n        LightboxMobileComponent,\n        GalleryComponent,\n        MasonryLayoutComponent,\n        PinchDirective\n    ],\n    imports: [\n        CommonModule\n    ],\n    exports: [\n        GalleryComponent\n    ],\n    providers: [\n        CrystalLightbox\n    ],\n    bootstrap: [\n        \n    ],\n    entryComponents: [\n        LightboxComponent,\n        LightboxMobileComponent\n    ]\n})\nexport class CrystalGalleryModule { }\n"],"names":["EventEmitter","Component","ElementRef","ChangeDetectorRef","Input","HostBinding","ViewChild","HostListener","defaultConfig","Injectable","ComponentFactoryResolver","ApplicationRef","Injector","Output","Directive","NgModule","CommonModule"],"mappings":"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"}
